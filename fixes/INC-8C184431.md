# Incident Fix: INC-8C184431

## Diagnosis
- **Root Cause**: Kubernetes pod OOMKilled due to memory limit set to 512Mi — insufficient for peak buffer accumulation in the API gateway. Exit code 137 (SIGKILL) confirms kernel OOM intervention. CrashLoopBackOff restart count: 8.
- **Severity**: IncidentSeverity.CRITICAL
- **Affected Services**: api-gateway, k8s-cluster, all-downstream-services
- **Detected At**: 2026-02-21 17:12:41 UTC

## Recommended Fix
Increase memory limit to 1Gi and add HPA for memory-based autoscaling

## Code Changes
```python
# Original code (problematic)
resources:
  limits:
    memory: '512Mi'
    cpu: '500m'

# Fixed code
resources:
  requests:
    memory: '512Mi'  # Fix: raised to match observed baseline
    cpu: '250m'
  limits:
    memory: '1Gi'    # Fix: 2x headroom above P99 peak
    cpu: '1000m'     # Fix: allow CPU burst on traffic spikes
# HPA added separately in hpa.yaml
# minReplicas: 3, maxReplicas: 10, memory trigger: 75%
```

## Auto-Remediation Applied
- **Action**: Stopped chaos experiment via API
- **Result**: Service recovered
- **Resolution Time**: N/A

## Generated by
CodeOps Sentinel — Fixer Agent v2.0  
Powered by Azure OpenAI GPT-4o + Microsoft Agent Framework
